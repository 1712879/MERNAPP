{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkPlace-React\\\\MERNAPP\\\\client\\\\src\\\\DetailProduct\\\\ProductView.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './ProductView.css'; // import '../Home/Home.css';\n\nimport Card from '../Home/Card';\nimport { Link } from 'react-router-dom';\nimport Spinner from 'react-spinner-material';\n\nclass ProductView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.doChange = e => {\n      this.setState({\n        active: e\n      });\n    };\n\n    this.state = {\n      product: [],\n      relatedProduct: [],\n      active: 1,\n      loading: true\n    };\n  }\n\n  componentWillMount() {\n    const {\n      id,\n      type\n    } = this.props.match.params;\n    axios.get('/api/product/' + id).then(res => {\n      axios.get(`/api/product-related/${type}/${id}`).then(res1 => {\n        console.log(res1.data);\n        this.setState({\n          relatedProduct: res1.data,\n          product: res.data,\n          loading: false\n        });\n      });\n    }).catch(error => console.log(error));\n  }\n\n  componentWillReceiveProps(newprops) {\n    this.setState({\n      loading: true\n    });\n    const {\n      id,\n      type\n    } = newprops.match.params;\n    axios.get('/api/product/' + id).then(res => {\n      axios.get(`/api/product-related/${type}/${id}`).then(res1 => {\n        this.setState({\n          relatedProduct: res1.data,\n          product: res.data,\n          active: 1,\n          loading: false\n        });\n      });\n    }).catch(error => console.log(error));\n  }\n\n  componentDidUpdate() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n\n  render() {\n    let cards = this.state.relatedProduct.map(e => {\n      return React.createElement(Card, {\n        key: e._id,\n        product: e,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      });\n    });\n    let eleproduct = this.state.product.map(p => {\n      if (p.TEN_SAN_PHAM[0] === '\\\"') {\n        p.TEN_SAN_PHAM = p.TEN_SAN_PHAM.substring(1, p.TEN_SAN_PHAM.length - 1);\n        p.THOI_DIEM_DANG = p.THOI_DIEM_DANG.substring(1, p.THOI_DIEM_DANG.length - 1);\n      }\n\n      let images = [];\n      images.push({\n        stt: 1,\n        link: p.LINK_ANH\n      });\n      images.push({\n        stt: 2,\n        link: p.LINK_ANH_BS1\n      });\n      images.push({\n        stt: 3,\n        link: p.LINK_ANH_BS2\n      });\n      images.push({\n        stt: 4,\n        link: p.LINK_ANH_BS3\n      });\n      return React.createElement(\"div\", {\n        key: p._id,\n        className: \"row1 product-detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"product-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(ViewImage, {\n        images: images,\n        active: this.state.active,\n        doChange: this.doChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"product-info ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"product-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, p.TEN_SAN_PHAM)), React.createElement(\"div\", {\n        className: \"product-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Ng\\xE0y \\u0111\\u0103ng: \", p.THOI_DIEM_DANG), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"M\\xF4 t\\u1EA3: \", p.MO_TA), React.createElement(\"p\", {\n        className: \"productdetail-price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"\\u0111 \", p.GIA_HIEN_TAI), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Th\\xF4ng tin kh\\xE1c: ***\"))), React.createElement(\"div\", {\n        className: \"related-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"S\\u1EA3n ph\\u1EA9m t\\u01B0\\u01A1ng t\\u1EF1\"))), React.createElement(\"div\", {\n        className: \"product-related\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, cards));\n    });\n    return this.state.loading ? React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      size: 120,\n      spinnerColor: \"#333\",\n      spinnerWidth: 2,\n      visible: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, eleproduct);\n  }\n\n}\n\nclass ViewImage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.goLeft = () => {\n      console.log('left');\n      let active = this.props.active;\n\n      if (active === 1) {\n        active = 4;\n      } else {\n        active--;\n      }\n\n      this.props.doChange(active);\n    };\n\n    this.goRight = () => {\n      console.log('right');\n      let active = this.props.active;\n\n      if (active === 4) {\n        active = 1;\n      } else {\n        active++;\n      }\n\n      this.props.doChange(active);\n    };\n  }\n\n  render() {\n    let elementImage = this.props.images.map(p => {\n      return React.createElement(\"div\", {\n        key: p.stt,\n        className: \"slide-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: p.stt === this.props.active ? \"slide active\" : \"slide\",\n        src: p.link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"div\", {\n      className: \"image-detail border rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, elementImage, React.createElement(\"a\", {\n      className: \"bt goLeft\",\n      onClick: this.goLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"icon pre rounded-circle\",\n      src: \"https://cdn.iconscout.com/icon/premium/png-256-thumb/previous-69-661269.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })), React.createElement(\"a\", {\n      className: \"bt goRight\",\n      onClick: this.goRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"icon next rounded-circle\",\n      src: \"https://png.pngtree.com/svg/20170523/d62342689e.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default ProductView;","map":{"version":3,"sources":["E:/WorkPlace-React/MERNAPP/client/src/DetailProduct/ProductView.js"],"names":["React","axios","Card","Link","Spinner","ProductView","Component","constructor","props","doChange","e","setState","active","state","product","relatedProduct","loading","componentWillMount","id","type","match","params","get","then","res","res1","console","log","data","catch","error","componentWillReceiveProps","newprops","componentDidUpdate","window","scrollTo","top","behavior","render","cards","map","_id","eleproduct","p","TEN_SAN_PHAM","substring","length","THOI_DIEM_DANG","images","push","stt","link","LINK_ANH","LINK_ANH_BS1","LINK_ANH_BS2","LINK_ANH_BS3","MO_TA","GIA_HIEN_TAI","ViewImage","goLeft","goRight","elementImage"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP,C,CACA;;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,wBAApB;;AACA,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAoDnBC,QApDmB,GAoDPC,CAAD,IAAO;AACd,WAAKC,QAAL,CAAc;AACVC,QAAAA,MAAM,EAAEF;AADE,OAAd;AAGH,KAxDkB;;AAEf,SAAKG,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,EADA;AAETC,MAAAA,cAAc,EAAE,EAFP;AAGTH,MAAAA,MAAM,EAAE,CAHC;AAITI,MAAAA,OAAO,EAAE;AAJA,KAAb;AAMH;;AAEDC,EAAAA,kBAAkB,GAAE;AAChB,UAAM;AAACC,MAAAA,EAAD;AAAKC,MAAAA;AAAL,QAAa,KAAKX,KAAL,CAAWY,KAAX,CAAiBC,MAApC;AACApB,IAAAA,KAAK,CAACqB,GAAN,CAAU,kBAAgBJ,EAA1B,EACKK,IADL,CACUC,GAAG,IAAI;AACTvB,MAAAA,KAAK,CAACqB,GAAN,CAAW,wBAAuBH,IAAK,IAAGD,EAAG,EAA7C,EACKK,IADL,CACUE,IAAI,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB;AACA,aAAKjB,QAAL,CAAc;AACVI,UAAAA,cAAc,EAAEU,IAAI,CAACG,IADX;AAEVd,UAAAA,OAAO,EAAEU,GAAG,CAACI,IAFH;AAGVZ,UAAAA,OAAO,EAAE;AAHC,SAAd;AAKH,OARL;AASH,KAXL,EAYKa,KAZL,CAYWC,KAAK,IAAIJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,CAZpB;AAaH;;AAEDC,EAAAA,yBAAyB,CAACC,QAAD,EAAU;AAC/B,SAAKrB,QAAL,CAAc;AAACK,MAAAA,OAAO,EAAE;AAAV,KAAd;AACA,UAAM;AAACE,MAAAA,EAAD;AAAIC,MAAAA;AAAJ,QAAYa,QAAQ,CAACZ,KAAT,CAAeC,MAAjC;AACApB,IAAAA,KAAK,CAACqB,GAAN,CAAU,kBAAgBJ,EAA1B,EACKK,IADL,CACUC,GAAG,IAAI;AACTvB,MAAAA,KAAK,CAACqB,GAAN,CAAW,wBAAuBH,IAAK,IAAGD,EAAG,EAA7C,EACKK,IADL,CACUE,IAAI,IAAI;AACV,aAAKd,QAAL,CAAc;AACVI,UAAAA,cAAc,EAAEU,IAAI,CAACG,IADX;AAEVd,UAAAA,OAAO,EAAEU,GAAG,CAACI,IAFH;AAGVhB,UAAAA,MAAM,EAAE,CAHE;AAIVI,UAAAA,OAAO,EAAE;AAJC,SAAd;AAMH,OARL;AASH,KAXL,EAYKa,KAZL,CAYWC,KAAK,IAAIJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,CAZpB;AAaH;;AAEDG,EAAAA,kBAAkB,GAAE;AAChBC,IAAAA,MAAM,CAACC,QAAP,CAAgB;AACZC,MAAAA,GAAG,EAAE,CADO;AAEZC,MAAAA,QAAQ,EAAE;AAFE,KAAhB;AAIH;;AAQDC,EAAAA,MAAM,GAAG;AACL,QAAIC,KAAK,GAAG,KAAK1B,KAAL,CAAWE,cAAX,CAA0ByB,GAA1B,CAA8B9B,CAAC,IAAI;AAC3C,aACI,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEA,CAAC,CAAC+B,GAAb;AAAkB,QAAA,OAAO,EAAE/B,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH,KAJW,CAAZ;AAMA,QAAIgC,UAAU,GAAG,KAAK7B,KAAL,CAAWC,OAAX,CAAmB0B,GAAnB,CAAuBG,CAAC,IAAI;AACzC,UAAGA,CAAC,CAACC,YAAF,CAAe,CAAf,MAAsB,IAAzB,EAA8B;AAC1BD,QAAAA,CAAC,CAACC,YAAF,GAAiBD,CAAC,CAACC,YAAF,CAAeC,SAAf,CAAyB,CAAzB,EAA4BF,CAAC,CAACC,YAAF,CAAeE,MAAf,GAAwB,CAApD,CAAjB;AACAH,QAAAA,CAAC,CAACI,cAAF,GAAmBJ,CAAC,CAACI,cAAF,CAAiBF,SAAjB,CAA2B,CAA3B,EAA8BF,CAAC,CAACI,cAAF,CAAiBD,MAAjB,GAA0B,CAAxD,CAAnB;AACH;;AAED,UAAIE,MAAM,GAAG,EAAb;AACAA,MAAAA,MAAM,CAACC,IAAP,CAAY;AAACC,QAAAA,GAAG,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAER,CAAC,CAACS;AAAjB,OAAZ;AACAJ,MAAAA,MAAM,CAACC,IAAP,CAAY;AAACC,QAAAA,GAAG,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAER,CAAC,CAACU;AAAjB,OAAZ;AACAL,MAAAA,MAAM,CAACC,IAAP,CAAY;AAACC,QAAAA,GAAG,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAER,CAAC,CAACW;AAAjB,OAAZ;AACAN,MAAAA,MAAM,CAACC,IAAP,CAAY;AAACC,QAAAA,GAAG,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAER,CAAC,CAACY;AAAjB,OAAZ;AAEA,aACI;AAAK,QAAA,GAAG,EAAEZ,CAAC,CAACF,GAAZ;AAAiB,QAAA,SAAS,EAAC,qBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAW,QAAA,MAAM,EAAEO,MAAnB;AAA2B,QAAA,MAAM,EAAE,KAAKnC,KAAL,CAAWD,MAA9C;AAAsD,QAAA,QAAQ,EAAE,KAAKH,QAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKkC,CAAC,CAACC,YAAP,CADJ,CADJ,EAII;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAeD,CAAC,CAACI,cAAjB,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAWJ,CAAC,CAACa,KAAb,CAFJ,EAGI;AAAG,QAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsCb,CAAC,CAACc,YAAxC,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAJJ,CAJJ,CAFJ,EAaI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDADJ,CAbJ,CADJ,EAkBI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKlB,KADL,CAlBJ,CADJ;AA0BH,KAtCgB,CAAjB;AAwCA,WACI,KAAK1B,KAAL,CAAWG,OAAX,GACA;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAE,GAAf;AAAoB,MAAA,YAAY,EAAE,MAAlC;AAA0C,MAAA,YAAY,EAAE,CAAxD;AAA2D,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWG,OAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR,CADA,GAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK0B,UADL,CANJ;AAWH;;AArHoC;;AAwHzC,MAAMgB,SAAN,SAAwB1D,KAAK,CAACM,SAA9B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAInBmD,MAJmB,GAIV,MAAM;AACXjC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,UAAIf,MAAM,GAAG,KAAKJ,KAAL,CAAWI,MAAxB;;AACA,UAAGA,MAAM,KAAK,CAAd,EAAgB;AACZA,QAAAA,MAAM,GAAG,CAAT;AACH,OAFD,MAEK;AACDA,QAAAA,MAAM;AACT;;AACD,WAAKJ,KAAL,CAAWC,QAAX,CAAoBG,MAApB;AACH,KAbkB;;AAAA,SAenBgD,OAfmB,GAeT,MAAM;AACZlC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,UAAIf,MAAM,GAAG,KAAKJ,KAAL,CAAWI,MAAxB;;AACA,UAAGA,MAAM,KAAK,CAAd,EAAgB;AACZA,QAAAA,MAAM,GAAG,CAAT;AACH,OAFD,MAEK;AACDA,QAAAA,MAAM;AACT;;AACD,WAAKJ,KAAL,CAAWC,QAAX,CAAoBG,MAApB;AAEH,KAzBkB;AAElB;;AAyBD0B,EAAAA,MAAM,GAAG;AACL,QAAIuB,YAAY,GAAG,KAAKrD,KAAL,CAAWwC,MAAX,CAAkBR,GAAlB,CAAsBG,CAAC,IAAI;AAC1C,aACI;AAAK,QAAA,GAAG,EAAEA,CAAC,CAACO,GAAZ;AAAiB,QAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2C;AAAK,QAAA,SAAS,EAAEP,CAAC,CAACO,GAAF,KAAU,KAAK1C,KAAL,CAAWI,MAArB,GAA8B,cAA9B,GAA+C,OAA/D;AAAwE,QAAA,GAAG,EAAE+B,CAAC,CAACQ,IAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA3C,CADJ;AAGH,KAJkB,CAAnB;AAKA,WACI;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKU,YADL,EAGI;AAAG,MAAA,SAAS,EAAC,WAAb;AAAyB,MAAA,OAAO,EAAE,KAAKF,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+C;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAyC,MAAA,GAAG,EAAC,6EAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA/C,CAHJ,EAII;AAAG,MAAA,SAAS,EAAC,YAAb;AAA0B,MAAA,OAAO,EAAE,KAAKC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiD;AAAK,MAAA,SAAS,EAAC,0BAAf;AAA0C,MAAA,GAAG,EAAC,qDAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjD,CAJJ,CADJ;AAQH;;AA1CkC;;AA6CvC,eAAevD,WAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport './ProductView.css';\r\n// import '../Home/Home.css';\r\nimport Card from '../Home/Card';\r\nimport { Link } from 'react-router-dom';\r\nimport Spinner from 'react-spinner-material';\r\nclass ProductView extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            product: [],\r\n            relatedProduct: [],\r\n            active: 1,\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        const {id, type} = this.props.match.params;\r\n        axios.get('/api/product/'+id)\r\n            .then(res => {\r\n                axios.get(`/api/product-related/${type}/${id}`)\r\n                    .then(res1 => {\r\n                        console.log(res1.data)\r\n                        this.setState({\r\n                            relatedProduct: res1.data,\r\n                            product: res.data,\r\n                            loading: false\r\n                        })\r\n                    })\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    componentWillReceiveProps(newprops){\r\n        this.setState({loading: true})\r\n        const {id,type} = newprops.match.params;\r\n        axios.get('/api/product/'+id)\r\n            .then(res => {\r\n                axios.get(`/api/product-related/${type}/${id}`)\r\n                    .then(res1 => {\r\n                        this.setState({\r\n                            relatedProduct: res1.data,\r\n                            product: res.data,\r\n                            active: 1,\r\n                            loading: false\r\n                        })\r\n                    })\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        })\r\n    }\r\n\r\n    doChange = (e) => {\r\n        this.setState({\r\n            active: e\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let cards = this.state.relatedProduct.map(e => {\r\n            return(\r\n                <Card key={e._id} product={e}/>\r\n            )\r\n        })\r\n\r\n        let eleproduct = this.state.product.map(p => {\r\n            if(p.TEN_SAN_PHAM[0] === '\\\"'){\r\n                p.TEN_SAN_PHAM = p.TEN_SAN_PHAM.substring(1, p.TEN_SAN_PHAM.length - 1);\r\n                p.THOI_DIEM_DANG = p.THOI_DIEM_DANG.substring(1, p.THOI_DIEM_DANG.length - 1);\r\n            }\r\n\r\n            let images = [];\r\n            images.push({stt: 1, link: p.LINK_ANH});\r\n            images.push({stt: 2, link: p.LINK_ANH_BS1});\r\n            images.push({stt: 3, link: p.LINK_ANH_BS2});\r\n            images.push({stt: 4, link: p.LINK_ANH_BS3});\r\n\r\n            return(\r\n                <div key={p._id} className=\"row1 product-detail\">\r\n                    <div className=\"product-wrapper\">\r\n                        <ViewImage images={images} active={this.state.active} doChange={this.doChange}/>\r\n                        <div className=\"product-info ml-2\">\r\n                            <div className=\"product-title\">\r\n                                <h1>{p.TEN_SAN_PHAM}</h1>\r\n                            </div>\r\n                            <div className=\"product-body\">\r\n                                <p>Ngày đăng: {p.THOI_DIEM_DANG}</p>\r\n                                <p>Mô tả: {p.MO_TA}</p>\r\n                                <p className=\"productdetail-price\">đ {p.GIA_HIEN_TAI}</p>\r\n                                <p>Thông tin khác: ***</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"related-title\">\r\n                            <h2>Sản phẩm tương tự</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"product-related\">\r\n                        {cards}\r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n            )\r\n        })\r\n\r\n        return (\r\n            this.state.loading ? \r\n            <div className=\"loading\"> \r\n                    <Spinner size={120} spinnerColor={\"#333\"} spinnerWidth={2} visible={this.state.loading} />\r\n                </div>\r\n            :\r\n            <div>\r\n                {eleproduct}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nclass ViewImage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    goLeft = () => {\r\n        console.log('left')\r\n        let active = this.props.active;\r\n        if(active === 1){\r\n            active = 4;\r\n        }else{\r\n            active--;\r\n        }\r\n        this.props.doChange(active);\r\n    }\r\n\r\n    goRight = () => {\r\n        console.log('right')\r\n        let active = this.props.active;\r\n        if(active === 4){\r\n            active = 1;\r\n        }else{\r\n            active++;\r\n        }\r\n        this.props.doChange(active);\r\n        \r\n    }\r\n    \r\n    render() {\r\n        let elementImage = this.props.images.map(p => {\r\n            return(\r\n                <div key={p.stt} className=\"slide-wrapper\"><img className={p.stt === this.props.active ? \"slide active\" : \"slide\"} src={p.link}></img></div>\r\n            )\r\n        })\r\n        return (\r\n            <div className=\"image-detail border rounded\">\r\n                {elementImage}\r\n                \r\n                <a className=\"bt goLeft\" onClick={this.goLeft}><img className=\"icon pre rounded-circle\" src=\"https://cdn.iconscout.com/icon/premium/png-256-thumb/previous-69-661269.png\"></img></a>\r\n                <a className=\"bt goRight\" onClick={this.goRight}><img className=\"icon next rounded-circle\" src=\"https://png.pngtree.com/svg/20170523/d62342689e.png\"></img></a>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductView;"]},"metadata":{},"sourceType":"module"}