{"ast":null,"code":"import _classCallCheck from\"E:\\\\WorkPlace-React\\\\MERNAPP\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkPlace-React\\\\MERNAPP\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\WorkPlace-React\\\\MERNAPP\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\WorkPlace-React\\\\MERNAPP\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"E:\\\\WorkPlace-React\\\\MERNAPP\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import Card from'./Card';import Pagination from'../lib/index';var Content=/*#__PURE__*/function(_React$Component){_inherits(Content,_React$Component);function Content(props){var _this;_classCallCheck(this,Content);_this=_possibleConstructorReturn(this,_getPrototypeOf(Content).call(this,props));_this.changeCurrentPage=function(numPage){var chooseID=_this.state.chooseID;axios.get(\"/api/producttype/\".concat(chooseID,\"/\").concat(numPage)).then(function(res){axios.get(\"/api/totalproduct/\".concat(chooseID)).then(function(res1){_this.setState({totalproduct:res1.data.total_product,productslist:res.data,chooseID:chooseID,currentPage:numPage});}).catch(function(error){return console.log(error);});}).catch(function(error){return console.log(error);});};_this.state={productslist:[],totalproduct:0,chooseID:'',currentPage:1};return _this;}_createClass(Content,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;console.log('content rendering');var chooseID=this.props.chooseID;axios.get(\"/api/producttype/\".concat(chooseID,\"/1\")).then(function(res){axios.get(\"/api/totalproduct/\".concat(chooseID)).then(function(res1){_this2.setState({totalproduct:res1.data.total_product,productslist:res.data,chooseID:chooseID});}).catch(function(error){return console.log(error);});}).catch(function(error){return console.log(error);});}},{key:\"componentWillUpdate\",value:function componentWillUpdate(nextProps,nextState){var _this3=this;if(nextProps.chooseID!=nextState.chooseID){console.log('will update');var chooseID=nextProps.chooseID;axios.get(\"/api/producttype/\".concat(chooseID,\"/1\")).then(function(res){axios.get(\"/api/totalproduct/\".concat(chooseID)).then(function(res1){_this3.setState({totalproduct:res1.data.total_product,productslist:res.data,chooseID:chooseID,currentPage:1});}).catch(function(error){return console.log(error);});}).catch(function(error){return console.log(error);});}}},{key:\"render\",value:function render(){var cards=this.state.productslist.map(function(e){if(e.TEN_SAN_PHAM[0]==='\\\"'){e.TEN_SAN_PHAM=e.TEN_SAN_PHAM.substring(1,e.TEN_SAN_PHAM.length-1);e.THOI_DIEM_DANG=e.THOI_DIEM_DANG.substring(1,e.THOI_DIEM_DANG.length-1);}return React.createElement(Card,{key:e._id,product:e});});var totalproduct=this.state.totalproduct;var temp=Math.floor(totalproduct/6);var pageCount=totalproduct%6!==0?temp+1:temp;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"content-wrapper\"},cards),React.createElement(\"div\",{id:\"pagination-wrapper\"},React.createElement(Pagination,{currentPage:this.state.currentPage,totalPages:pageCount,changeCurrentPage:this.changeCurrentPage,theme:\"bottom-border\"})));}}]);return Content;}(React.Component);export default Content;","map":{"version":3,"sources":["E:/WorkPlace-React/MERNAPP/client/src/Home/Content.js"],"names":["React","axios","Card","Pagination","Content","props","changeCurrentPage","numPage","chooseID","state","get","then","res","res1","setState","totalproduct","data","total_product","productslist","currentPage","catch","error","console","log","nextProps","nextState","cards","map","e","TEN_SAN_PHAM","substring","length","THOI_DIEM_DANG","_id","temp","Math","floor","pageCount","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Card from './Card';\r\nimport Pagination from '../lib/index';\r\nclass Content extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            productslist : [],\r\n            totalproduct: 0,\r\n            chooseID: '',\r\n            currentPage: 1\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        console.log('content rendering')\r\n        let {chooseID} = this.props;\r\n        axios.get(`/api/producttype/${chooseID}/1`)\r\n            .then(res => {\r\n                axios.get(`/api/totalproduct/${chooseID}`)\r\n                    .then(res1 => {\r\n                        this.setState({\r\n                            totalproduct: res1.data.total_product,\r\n                            productslist : res.data,\r\n                            chooseID: chooseID,\r\n                        })\r\n                    })\r\n                    .catch(error => console.log(error));\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    \r\n    componentWillUpdate(nextProps, nextState){\r\n        \r\n        if(nextProps.chooseID != nextState.chooseID){\r\n            console.log('will update')\r\n            let {chooseID} = nextProps\r\n            axios.get(`/api/producttype/${chooseID}/1`)\r\n            .then(res => {\r\n                axios.get(`/api/totalproduct/${chooseID}`)\r\n                    .then(res1 => {\r\n                        this.setState({\r\n                            totalproduct: res1.data.total_product,\r\n                            productslist : res.data,\r\n                            chooseID: chooseID,\r\n                            currentPage: 1\r\n                        })\r\n                    })\r\n                    .catch(error => console.log(error));\r\n            })\r\n            .catch(error => console.log(error));\r\n        }\r\n    }\r\n\r\n    changeCurrentPage = numPage => {\r\n        let chooseID = this.state.chooseID;\r\n        axios.get(`/api/producttype/${chooseID}/${numPage}`)\r\n            .then(res => {\r\n                axios.get(`/api/totalproduct/${chooseID}`)\r\n                    .then(res1 => {\r\n                        this.setState({\r\n                            totalproduct: res1.data.total_product,\r\n                            productslist : res.data,\r\n                            chooseID: chooseID,\r\n                            currentPage: numPage\r\n                        })\r\n                    })\r\n                    .catch(error => console.log(error));\r\n            })\r\n            .catch(error => console.log(error));\r\n    };\r\n\r\n    render() {\r\n        let cards = this.state.productslist.map(e => {\r\n            if(e.TEN_SAN_PHAM[0] === '\\\"'){\r\n                e.TEN_SAN_PHAM = e.TEN_SAN_PHAM.substring(1,e.TEN_SAN_PHAM.length - 1);\r\n                e.THOI_DIEM_DANG = e.THOI_DIEM_DANG.substring(1,e.THOI_DIEM_DANG.length - 1);\r\n            }\r\n\r\n            return(\r\n                <Card key={e._id} product={e}/>\r\n            )\r\n        })\r\n\r\n        let {totalproduct} = this.state;\r\n        let temp = Math.floor(totalproduct / 6);\r\n        let pageCount = totalproduct % 6 !== 0 ? (temp + 1) : temp;\r\n\r\n        return (\r\n            <div>\r\n                <div className={\"content-wrapper\" }>\r\n                    {cards}\r\n                </div>\r\n\r\n                <div id=\"pagination-wrapper\">\r\n                    <Pagination\r\n                        currentPage={this.state.currentPage}\r\n                        totalPages={pageCount}\r\n                        changeCurrentPage={this.changeCurrentPage}\r\n                        theme=\"bottom-border\"\r\n                    />\r\n                </div>\r\n            \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Content;"]},"metadata":{},"sourceType":"module"}