(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{32:function(e,t,a){e.exports=a(63)},37:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c);a(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(2),l=a(3),i=a(5),u=a(4),p=a(6),h=a(7),m=a.n(h),d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light w-100"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Home"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav"})))}}]),t}(n.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer-title"},r.a.createElement("h3",null,"S\u1ea3n Ph\u1ea9m Sample Site MERN"),r.a.createElement("h5",null,"Phan V\u0103n Tu\u1ea5n - 1712879"),r.a.createElement("h5",null,"HCMUS-EC-20A10"))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChoose=function(e){a.props.onChoose(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.category.map((function(t){return'"'===t.TEN_LOAI[0]&&(t.TEN_LOAI=t.TEN_LOAI.substring(1,t.TEN_LOAI.length-1)),r.a.createElement("li",{key:t._id,onClick:function(){return e.onChoose(t.MA_LOAI_HANG)}},t.TEN_LOAI)}));return r.a.createElement("div",{className:"category-wrapper"},r.a.createElement("div",{className:"card border-secondary mb-3 category"},r.a.createElement("h3",{className:"category-title"},"Danh M\u1ee5c"),r.a.createElement("ul",{className:"card-category"},t)))}}]),t}(r.a.Component),v=a(14),E=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card mb-3 product"},r.a.createElement(v.b,{to:"/product/".concat(this.props.product.MA_SAN_PHAM)},r.a.createElement("div",{className:"card-header"},r.a.createElement("img",{className:"product-img",src:this.props.product.LINK_ANH})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},this.props.product.TEN_SAN_PHAM),r.a.createElement("p",{className:"card-text datepost"},this.props.product.THOI_DIEM_DANG),r.a.createElement("a",{className:"product-price"},"\u0111 ",this.props.product.GIA_HIEN_TAI))))}}]),t}(r.a.Component),N=(a(60),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={firstThreeArray:[1],lastNumber:"",showEllipis:!0},a.prev=function(){a.props.currentPage>1&&a.props.changeCurrentPage(a.props.currentPage-1)},a.next=function(){a.props.currentPage<a.props.totalPages&&a.props.changeCurrentPage(a.props.currentPage+1)},a.changeCurrentPage=function(e){a.props.changeCurrentPage(e)},a.showEllipsis=function(){if(a.state.showEllipis)return r.a.createElement("a",null,r.a.createElement("li",null,"..."))},a.isactive=function(e){return a.props.currentPage==e},a.showLastPagi=function(){if(a.props.currentPage!==a.props.totalPages)return r.a.createElement("a",{className:a.isactive(a.props.totalPages)?"is-active":"",onClick:function(){a.changeCurrentPage(a.props.totalPages)}},r.a.createElement("li",null,a.props.totalPages))},a.showPrev=function(){if(1!=a.props.currentPage)return r.a.createElement("a",{onClick:a.prev},r.a.createElement("li",null,"<"))},a.showNext=function(){if(a.props.currentPage<a.props.totalPages)return r.a.createElement("a",{onClick:a.next},r.a.createElement("li",null,">"))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.totalPages<=5){for(var e=[],t=1;t<=this.props.totalPages;t++)e.push(t);this.setState({firstThreeArray:e})}else{if(this.props.currentPage<3)this.setState({firstThreeArray:[1,2,3]});else{e=[];for(var a=1,n=this.props.currentPage;n>=0&&(e.push(n),3!==a);n--)a++;e.reverse(),this.setState({firstThreeArray:e})}this.setState({lastNumber:this.props.totalPages})}}},{key:"componentWillReceiveProps",value:function(e){if(e.totalPages<=5){for(var t=[],a=1;a<=e.totalPages;a++)t.push(a);this.setState({firstThreeArray:t})}else if(this.props.currentPage!==e.currentPage||this.props.totalPages!==e.totalPages){if(e.currentPage<3)this.setState({firstThreeArray:[1,2,3]});else(t=[]).push(e.currentPage-1),t.push(e.currentPage),e.currentPage+1<e.totalPages&&t.push(e.currentPage+1),e.currentPage==e.totalPages-2||e.currentPage==e.totalPages-1||e.currentPage==e.totalPages?this.setState({showEllipis:!1}):this.setState({showEllipis:!0}),this.setState({firstThreeArray:t});this.setState({lastNumber:e.totalPages})}window.scrollTo({top:0,behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.theme+" pagination"},r.a.createElement("ul",null,this.showPrev(),this.props.totalPages<=5?this.state.firstThreeArray.map((function(t,a){return r.a.createElement("a",{key:a,className:e.isactive(t)?"is-active":"",onClick:function(){e.changeCurrentPage(t)}},r.a.createElement("li",null,t))})):r.a.createElement(r.a.Fragment,null,this.state.firstThreeArray.map((function(t,a){return r.a.createElement("a",{key:a,className:e.isactive(t)?"is-active":"",onClick:function(){e.changeCurrentPage(t)}},r.a.createElement("li",null,t))})),this.showEllipsis(),this.showLastPagi()),this.showNext()))}}]),t}(r.a.Component));N.defaultProps={theme:"default",currentPage:1,totalPages:15};var b=N,P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCurrentPage=function(e){var t=a.state.chooseID;m.a.get("/api/producttype/".concat(t,"/").concat(e)).then((function(n){m.a.get("/api/totalproduct/".concat(t)).then((function(r){a.setState({totalproduct:r.data.total_product,productslist:n.data,chooseID:t,currentPage:e})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},a.state={productslist:[],totalproduct:0,chooseID:"",currentPage:1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("content rendering");var t=this.props.chooseID;m.a.get("/api/producttype/".concat(t,"/1")).then((function(a){m.a.get("/api/totalproduct/".concat(t)).then((function(n){e.setState({totalproduct:n.data.total_product,productslist:a.data,chooseID:t})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}},{key:"componentWillUpdate",value:function(e,t){var a=this;if(e.chooseID!=t.chooseID){console.log("will update");var n=e.chooseID;m.a.get("/api/producttype/".concat(n,"/1")).then((function(e){m.a.get("/api/totalproduct/".concat(n)).then((function(t){a.setState({totalproduct:t.data.total_product,productslist:e.data,chooseID:n,currentPage:1})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=this.state.productslist.map((function(e){return'"'===e.TEN_SAN_PHAM[0]&&(e.TEN_SAN_PHAM=e.TEN_SAN_PHAM.substring(1,e.TEN_SAN_PHAM.length-1),e.THOI_DIEM_DANG=e.THOI_DIEM_DANG.substring(1,e.THOI_DIEM_DANG.length-1)),r.a.createElement(E,{key:e._id,product:e})})),t=this.state.totalproduct,a=Math.floor(t/6),n=t%6!==0?a+1:a;return r.a.createElement("div",null,r.a.createElement("div",{className:"content-wrapper"},e),r.a.createElement("div",{id:"pagination-wrapper"},r.a.createElement(b,{currentPage:this.state.currentPage,totalPages:n,changeCurrentPage:this.changeCurrentPage,theme:"bottom-border"})))}}]),t}(r.a.Component),_=(a(61),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChoose=function(e){a.setState({chooseID:e})},a.state={category:[],chooseID:"LH001"},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("home rendering"),m.a.get("/api/category").then((function(t){e.setState({category:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return console.log("rendering"),r.a.createElement("div",{className:"row1 body"},r.a.createElement(f,{category:this.state.category,onChoose:this.onChoose}),r.a.createElement(P,{chooseID:this.state.chooseID}))}}]),t}(r.a.Component)),A=(a(62),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).doChange=function(e){a.setState({active:e})},a.state={product:[],productType:"",relatedProduct:[],active:1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;m.a.get("/api/product/"+t).then((function(t){console.log(t.data),e.setState({product:t.data,productType:t.data[0].MA_LOAI_HANG})})).then((function(a){m.a.get("/api/product-related/".concat(e.state.productType,"/").concat(t)).then((function(t){e.setState({relatedProduct:t.data})}))})).catch((function(e){return console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.match.params.id;m.a.get("/api/product/"+a).then((function(e){t.setState({product:e.data,productType:e.data[0].MA_LOAI_HANG,active:1})})).then((function(e){m.a.get("/api/product-related/".concat(t.state.productType,"/").concat(a)).then((function(e){t.setState({relatedProduct:e.data})}))})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.state.relatedProduct.map((function(e){return r.a.createElement(E,{key:e._id,product:e})})),a=this.state.product.map((function(a){'"'===a.TEN_SAN_PHAM[0]&&(a.TEN_SAN_PHAM=a.TEN_SAN_PHAM.substring(1,a.TEN_SAN_PHAM.length-1),a.THOI_DIEM_DANG=a.THOI_DIEM_DANG.substring(1,a.THOI_DIEM_DANG.length-1));var n=[];return n.push({stt:1,link:a.LINK_ANH}),n.push({stt:2,link:a.LINK_ANH_BS1}),n.push({stt:3,link:a.LINK_ANH_BS2}),n.push({stt:4,link:a.LINK_ANH_BS3}),r.a.createElement("div",{key:a._id,className:"row1 product-detail"},r.a.createElement("div",{className:"product-wrapper"},r.a.createElement(y,{images:n,active:e.state.active,doChange:e.doChange}),r.a.createElement("div",{className:"product-info"},r.a.createElement("div",{className:"product-title"},r.a.createElement("h1",null,a.TEN_SAN_PHAM)),r.a.createElement("div",{className:"product-body"},r.a.createElement("p",null,"Ng\xe0y \u0111\u0103ng: ",a.THOI_DIEM_DANG),r.a.createElement("p",null,"M\xf4 t\u1ea3: ",a.MO_TA),r.a.createElement("p",{className:"productdetail-price"},"\u0111 ",a.GIA_HIEN_TAI),r.a.createElement("p",null,"Th\xf4ng tin kh\xe1c: ***"))),r.a.createElement("div",{className:"related-title"},r.a.createElement("h2",null,"S\u1ea3n ph\u1ea9m t\u01b0\u01a1ng t\u1ef1"))),r.a.createElement("div",{className:"product-related"},t))}));return r.a.createElement("div",null,a)}}]),t}(r.a.Component)),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).goLeft=function(){console.log("left");var e=a.props.active;1===e?e=4:e--,a.props.doChange(e)},a.goRight=function(){console.log("right");var e=a.props.active;4===e?e=1:e++,a.props.doChange(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.images.map((function(t){return r.a.createElement("div",{key:t.stt,className:"slide-wrapper"},r.a.createElement("img",{className:t.stt===e.props.active?"slide active":"slide",src:t.link}))}));return r.a.createElement("div",{className:"image-detail"},t,r.a.createElement("a",{className:"bt goLeft",onClick:this.goLeft},r.a.createElement("img",{className:"icon pre",src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/previous-69-661269.png"})),r.a.createElement("a",{className:"bt goRight",onClick:this.goRight},r.a.createElement("img",{className:"icon next",src:"https://png.pngtree.com/svg/20170523/d62342689e.png"})))}}]),t}(r.a.Component),O=A,I=a(12);o.a.render(r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"row1 header"},r.a.createElement(d,null)),r.a.createElement(v.a,null,r.a.createElement(I.c,null,r.a.createElement(I.a,{exact:!0,path:"/",component:_}),r.a.createElement(I.a,{path:"/product/:id",component:O}))),r.a.createElement("div",{className:"row1 footer"},r.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.386574d3.chunk.js.map